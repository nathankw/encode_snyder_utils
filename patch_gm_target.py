import encode_utils.connection as euc

conn = euc.Connection("prod")

gms = ["ENCGM003VCE","ENCGM308ZGH","ENCGM387BAR","ENCGM151IOO","ENCGM485KZT","ENCGM478ORI","ENCGM662DWO","ENCGM831LRL","ENCGM827WTQ","ENCGM764WCN","ENCGM643SYY","ENCGM265ZHD","ENCGM907XXO","ENCGM378SUP","ENCGM675KII","ENCGM798LWU","ENCGM442GDB","ENCGM456GLN","ENCGM865NGH","ENCGM213TAM","ENCGM260TBY","ENCGM667PAM","ENCGM608QXL","ENCGM230BEP","ENCGM749PIU","ENCGM604OOE","ENCGM343NQZ","ENCGM569JIW","ENCGM902XYK","ENCGM197YZU","ENCGM063ASY","ENCGM763UKB","ENCGM903ERV","ENCGM154WAT","ENCGM432EZN","ENCGM185EUA","ENCGM402UGW","ENCGM093MVP","ENCGM376QBZ","ENCGM885TAG","ENCGM649CRY","ENCGM904PSC","ENCGM596UVG","ENCGM441YKL","ENCGM992CAE","ENCGM543UVF","ENCGM734TVM","ENCGM761HGT","ENCGM807OUN","ENCGM316QHB","ENCGM629VCJ","ENCGM267XCU","ENCGM384RSY","ENCGM385IPK","ENCGM930GMY","ENCGM915FFB","ENCGM051NHG","ENCGM023HNS","ENCGM235PQV","ENCGM778EYB","ENCGM706BEZ","ENCGM998OJP","ENCGM511GIR","ENCGM462XXT","ENCGM908WJQ","ENCGM670KSD","ENCGM121VDO","ENCGM094ZOS","ENCGM584GQK","ENCGM855DTG","ENCGM924HEX"]
for i in gms:
    gm = conn.get(i)
    payload = {conn.ENCID_KEY: i}
    payload["modified_site_by_target_id"] = gm["modified_site_by_target_id"]["@id"].strip("/").split("/")[-1].split("eGFP-")[-1]
    conn.patch(payload)
    
